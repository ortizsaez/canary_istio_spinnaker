{
  "appConfig": {},
  "expectedArtifacts": [
    {
      "defaultArtifact": {
        "artifactAccount": "gcs-cicd-istio-spinnaker",
        "kind": "default.gcs",
        "name": "gs://cicd-istio-spinnaker-kubernetes-manifests/webapp-1.0.0.tgz",
        "reference": "gs://cicd-istio-spinnaker-kubernetes-manifests/webapp-1.0.0.tgz",
        "type": "gcs/object"
      },
      "displayName": "gs://cicd-istio-spinnaker-kubernetes-manifests/webapp-1.0.0.tgz",
      "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a",
      "matchArtifact": {
        "artifactAccount": "gcs-cicd-istio-spinnaker",
        "kind": "gcs",
        "name": "gs://cicd-istio-spinnaker-kubernetes-manifests/webapp-1.0.0.tgz",
        "type": "gcs/object"
      },
      "useDefaultArtifact": true,
      "usePriorArtifact": true,
      "usePriorExecution": false
    },
    {
      "defaultArtifact": {
        "kind": "default.docker",
        "name": "gcr.io/cicd-istio-spinnaker/webapp",
        "reference": "gcr.io/cicd-istio-spinnaker/webapp:v1.0.0",
        "type": "docker/image",
        "version": "v1.0.0"
      },
      "displayName": "gcr.io/cicd-istio-spinnaker/webapp",
      "id": "80c8982d-f5df-4d31-b828-5d537d8f67aa",
      "matchArtifact": {
        "kind": "docker",
        "name": "gcr.io/cicd-istio-spinnaker/webapp",
        "type": "docker/image"
      },
      "useDefaultArtifact": true,
      "usePriorArtifact": true,
      "usePriorExecution": false
    }
  ],
  "keepWaitingPipelines": false,
  "lastModifiedBy": "anonymous",
  "limitConcurrent": true,
  "parallel": true,
  "stages": [
    {
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "id": "65686ec1-428f-4e48-a77b-80fa1352b1bd",
            "type": "embedded/base64"
          },
          "displayName": "webapp-test-manifest-10",
          "id": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
          "matchArtifact": {
            "id": "0ce7e4ff-7ef9-44db-a350-b8c80a003193",
            "name": "webapp-test-manifest-10",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "inputArtifacts": [
        {
          "account": "gcs-cicd-istio-spinnaker",
          "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a"
        }
      ],
      "name": "Template Test blue 10%",
      "namespace": "default",
      "outputName": "webapp",
      "overrides": {
        "frontend_percentage_blue": "10",
        "namespace": "tst"
      },
      "refId": "1",
      "requisiteStageRefIds": [],
      "templateRenderer": "HELM3",
      "type": "bakeManifest"
    },
    {
      "account": "default",
      "cloudProvider": "kubernetes",
      "manifestArtifactAccount": "embedded-artifact",
      "manifestArtifactId": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
      "moniker": {
        "app": "webapp"
      },
      "name": "Deploy Test blue 10%",
      "refId": "2",
      "requisiteStageRefIds": [
        "1"
      ],
      "skipExpressionEvaluation": false,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false,
          "services": []
        }
      },
      "type": "deployManifest"
    },
    {
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "id": "65686ec1-428f-4e48-a77b-80fa1352b1bd",
            "type": "embedded/base64"
          },
          "displayName": "webapp-test-manifest-50",
          "id": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
          "matchArtifact": {
            "id": "0ce7e4ff-7ef9-44db-a350-b8c80a003193",
            "name": "webapp-test-manifest-50",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "inputArtifacts": [
        {
          "account": "gcs-cicd-istio-spinnaker",
          "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a"
        }
      ],
      "name": "Template Test blue 50%",
      "namespace": "default",
      "outputName": "webapp",
      "overrides": {
        "frontend_percentage_blue": "50",
        "namespace": "tst"
      },
      "refId": "3",
      "requisiteStageRefIds": [
        "2"
      ],
      "templateRenderer": "HELM3",
      "type": "bakeManifest"
    },
    {
      "account": "default",
      "cloudProvider": "kubernetes",
      "manifestArtifactAccount": "embedded-artifact",
      "manifestArtifactId": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
      "moniker": {
        "app": "webapp"
      },
      "name": "Deploy Test blue 50%",
      "refId": "4",
      "requisiteStageRefIds": [
        "3"
      ],
      "skipExpressionEvaluation": false,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false,
          "services": []
        }
      },
      "type": "deployManifest"
    },
    {
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "id": "65686ec1-428f-4e48-a77b-80fa1352b1bd",
            "type": "embedded/base64"
          },
          "displayName": "webapp-test-manifest-100",
          "id": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
          "matchArtifact": {
            "id": "0ce7e4ff-7ef9-44db-a350-b8c80a003193",
            "name": "webapp-test-manifest-100",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "inputArtifacts": [
        {
          "account": "gcs-cicd-istio-spinnaker",
          "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a"
        }
      ],
      "name": "Template Test blue 100%",
      "namespace": "default",
      "outputName": "webapp",
      "overrides": {
        "frontend_percentage_blue": "100",
        "namespace": "tst"
      },
      "refId": "5",
      "requisiteStageRefIds": [
        "4"
      ],
      "templateRenderer": "HELM3",
      "type": "bakeManifest"
    },
    {
      "account": "default",
      "cloudProvider": "kubernetes",
      "manifestArtifactAccount": "embedded-artifact",
      "manifestArtifactId": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
      "moniker": {
        "app": "webapp"
      },
      "name": "Deploy Test blue 100%",
      "refId": "6",
      "requisiteStageRefIds": [
        "5"
      ],
      "skipExpressionEvaluation": false,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false,
          "services": []
        }
      },
      "type": "deployManifest"
    },
    {
      "failPipeline": true,
      "instructions": "Is everything ready to go to production?",
      "judgmentInputs": [],
      "name": "Deploy to prod?",
      "notifications": [],
      "refId": "7",
      "requisiteStageRefIds": [
        "6"
      ],
      "type": "manualJudgment"
    },
    {
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "id": "65686ec1-428f-4e48-a77b-80fa1352b1bd",
            "type": "embedded/base64"
          },
          "displayName": "webapp-prod-manifest-10",
          "id": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
          "matchArtifact": {
            "id": "0ce7e4ff-7ef9-44db-a350-b8c80a003193",
            "name": "webapp-prod-manifest-10",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "inputArtifacts": [
        {
          "account": "gcs-cicd-istio-spinnaker",
          "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a"
        }
      ],
      "name": "Template PROD blue 10%",
      "namespace": "default",
      "outputName": "webapp",
      "overrides": {
        "frontend_percentage_blue": "10",
        "namespace": "prod"
      },
      "refId": "8",
      "requisiteStageRefIds": [
        "7"
      ],
      "templateRenderer": "HELM3",
      "type": "bakeManifest"
    },
    {
      "account": "default",
      "cloudProvider": "kubernetes",
      "manifestArtifactAccount": "embedded-artifact",
      "manifestArtifactId": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
      "moniker": {
        "app": "webapp"
      },
      "name": "Deploy PROD blue 10%",
      "refId": "9",
      "requisiteStageRefIds": [
        "8"
      ],
      "skipExpressionEvaluation": false,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false,
          "services": []
        }
      },
      "type": "deployManifest"
    },
    {
      "failPipeline": true,
      "instructions": "Is everything ready to increase traffic to 50% to blue environment?",
      "judgmentInputs": [],
      "name": "Increase percentage to 50% to blue environment?",
      "notifications": [],
      "refId": "10",
      "requisiteStageRefIds": [
        "9"
      ],
      "type": "manualJudgment"
    },
    {
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "id": "65686ec1-428f-4e48-a77b-80fa1352b1bd",
            "type": "embedded/base64"
          },
          "displayName": "webapp-prod-manifest-50",
          "id": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
          "matchArtifact": {
            "id": "0ce7e4ff-7ef9-44db-a350-b8c80a003193",
            "name": "webapp-prod-manifest-50",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "inputArtifacts": [
        {
          "account": "gcs-cicd-istio-spinnaker",
          "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a"
        }
      ],
      "name": "Template PROD blue 50%",
      "namespace": "default",
      "outputName": "webapp",
      "overrides": {
        "frontend_percentage_blue": "50",
        "namespace": "prod"
      },
      "refId": "11",
      "requisiteStageRefIds": [
        "10"
      ],
      "templateRenderer": "HELM3",
      "type": "bakeManifest"
    },
    {
      "account": "default",
      "cloudProvider": "kubernetes",
      "manifestArtifactAccount": "embedded-artifact",
      "manifestArtifactId": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
      "moniker": {
        "app": "webapp"
      },
      "name": "Deploy PROD blue 50%",
      "refId": "12",
      "requisiteStageRefIds": [
        "11"
      ],
      "skipExpressionEvaluation": false,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false,
          "services": []
        }
      },
      "type": "deployManifest"
    },
    {
      "failPipeline": true,
      "instructions": "Is everything ready to increase traffic to 100% to blue environment?",
      "judgmentInputs": [],
      "name": "Increase percentage to 100% to blue environment?",
      "notifications": [],
      "refId": "13",
      "requisiteStageRefIds": [
        "12"
      ],
      "type": "manualJudgment"
    },
    {
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "id": "65686ec1-428f-4e48-a77b-80fa1352b1bd",
            "type": "embedded/base64"
          },
          "displayName": "webapp-prod-manifest-100",
          "id": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
          "matchArtifact": {
            "id": "0ce7e4ff-7ef9-44db-a350-b8c80a003193",
            "name": "webapp-prod-manifest-100",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "inputArtifacts": [
        {
          "account": "gcs-cicd-istio-spinnaker",
          "id": "e169983d-9d3f-42fc-a739-f4f91e9bdc1a"
        }
      ],
      "name": "Template PROD blue 100%",
      "namespace": "default",
      "outputName": "webapp",
      "overrides": {
        "frontend_percentage_blue": "100",
        "namespace": "prod"
      },
      "refId": "14",
      "requisiteStageRefIds": [
        "13"
      ],
      "templateRenderer": "HELM3",
      "type": "bakeManifest"
    },
    {
      "account": "default",
      "cloudProvider": "kubernetes",
      "manifestArtifactAccount": "embedded-artifact",
      "manifestArtifactId": "c90e10c2-21c8-443a-b4d7-d602aeda4f58",
      "moniker": {
        "app": "webapp"
      },
      "name": "Deploy PROD blue 100%",
      "refId": "15",
      "requisiteStageRefIds": [
        "14"
      ],
      "skipExpressionEvaluation": false,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false,
          "services": []
        }
      },
      "type": "deployManifest"
    }
  ],
  "triggers": [
    {
      "account": "gcr",
      "attributeConstraints": {},
      "enabled": true,
      "expectedArtifactIds": [
        "80c8982d-f5df-4d31-b828-5d537d8f67aa"
      ],
      "organization": "cicd-istio-spinnaker",
      "payloadConstraints": {
        "tag": "gcr.io/cicd-istio-spinnaker/webapp:v.*"
      },
      "pubsubSystem": "google",
      "registry": "gcr.io",
      "repository": "cicd-istio-spinnaker/webapp",
      "subscriptionName": "gcr-triggers",
      "tag": "v.*",
      "type": "pubsub"
    }
  ],
  "updateTs": "1615305182016"
}